---
layout: image-summary-detail
media: /boxShadow_Carnel.png
heading: box-shadowには要注意
summary: ぼかし半径によってパフォーマンスが変わる
---

**ぼかし半径が3pxなら、**

**影を構成するピクセルごとに周囲3pxの色を混合する**

- ぼかし半径が大きいほど重くなる
- `border-radius`と併用するとさらに重くなる

ぼかし半径を指定した影をアニメーションさせると、かくつく場合も

擬似要素にかけた`opacity`を変化させることで代替しよう

<!-- 
ペイント処理が必要になるプロパティの中でも、特に重いものが、box-shadowです。

影はぼかし効果を施した線にすぎません。

その線は、無数のピクセルによって構成されています。

影のラインを構成するピクセルごとに、ぼかし半径分だけ周囲のピクセルを調べて、色を混合する処理が発生します。

ぼかし半径が大きければ大きいほど、膨大な数のピクセルを調べることになるので、当然重くなります。

また、border-radiusと併用すると、曲線を滑らかにするためにさらにピクセルを細分化して濃淡をつける処理が発生するため、ますます重くなります。

box-shadowをアニメーションさせたい時は、あらかじめ擬似要素にbox-shadowを設定しておいて、その擬似要素のopacityをアニメーションさせた方が良いでしょう。
-->